{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/suraw/Desktop/5935512054/frontend/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/suraw/Desktop/5935512054/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\suraw\\\\Desktop\\\\5935512054\\\\frontend\\\\pages\\\\studentedit.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport styles from \"../styles/student.module.css\";\nimport withAuth from \"../components/withAuth\";\nimport Navbar from \"../components/navbar\";\nvar URL = \"http://localhost/api/students\";\n\nvar admin = function admin(_ref) {\n  _s();\n\n  var token = _ref.token;\n\n  var _useState = useState({}),\n      user = _useState[0],\n      setUser = _useState[1];\n\n  var _useState2 = useState({}),\n      students = _useState2[0],\n      setStudents = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      Student_ID = _useState3[0],\n      setStudent_ID = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      surname = _useState5[0],\n      setSurname = _useState5[1];\n\n  var _useState6 = useState(\"\"),\n      major = _useState6[0],\n      setMajor = _useState6[1];\n\n  var _useState7 = useState(0),\n      GPA = _useState7[0],\n      setGPA = _useState7[1];\n\n  var _useState8 = useState({}),\n      student = _useState8[0],\n      setStudent = _useState8[1];\n\n  useEffect(function () {\n    getStudents();\n    profileUser();\n  }, []);\n\n  var profileUser = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var users;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"\".concat(config.URL, \"/profile\"), {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              });\n\n            case 3:\n              users = _context.sent;\n              setUser(users.data);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function profileUser() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getstudent = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return axios.get(\"\".concat(URL, \"/\").concat(id));\n\n            case 2:\n              result = _context2.sent;\n              console.log('student id: ', result.data);\n              setStudent(result.data);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getstudent(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var getStudents = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return axios.get(URL);\n\n            case 2:\n              result = _context3.sent;\n              setStudents(result.data.list);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getStudents() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var addStudent = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return axios.post(URL, {\n                Student_ID: Student_ID,\n                name: name,\n                surname: surname,\n                major: major,\n                GPA: GPA\n              });\n\n            case 2:\n              result = _context4.sent;\n              console.log(result);\n              getStudents();\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function addStudent() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var deleteStudent = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return axios[\"delete\"](\"\".concat(URL, \"/\").concat(id));\n\n            case 2:\n              result = _context5.sent;\n              getStudents();\n\n            case 4:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function deleteStudent(_x2) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var updateStudent = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id) {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return axios.put(\"\".concat(URL, \"/\").concat(id), {\n                Student_ID: Student_ID,\n                name: name,\n                surname: surname,\n                major: major,\n                GPA: GPA\n              });\n\n            case 2:\n              result = _context6.sent;\n              console.log(result);\n              getStudents();\n\n            case 5:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function updateStudent(_x3) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  var showStudents = function showStudents() {\n    if (students && students.length) {\n      return students.map(function (item, index) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.listItem,\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Student_ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, _this), \" \", item.Student_ID, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 50\n          }, _this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, _this), \" \", item.name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 38\n          }, _this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Surname:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, _this), \" \", item.surname, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 44\n          }, _this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Major:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, _this), \" \", item.major, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 40\n          }, _this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"GPA:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, _this), \" \", item.GPA, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.edit_button,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.button_get,\n              onClick: function onClick() {\n                return getstudent(item.id);\n              },\n              children: \"Get\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.button_update,\n              onClick: function onClick() {\n                return updateStudent(item.id);\n              },\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.button_delete,\n              onClick: function onClick() {\n                return deleteStudent(item.id);\n              },\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, _this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, _this);\n      });\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 14\n      }, _this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: /*#__PURE__*/_jsxDEV(\"ins\", {\n        children: \"Student Data Edit \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.form_add,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Add Students\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, _this), \"Student_ID:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"Student_ID\",\n        onChange: function onChange(e) {\n          return setStudent_ID(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, _this), \"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        onChange: function onChange(e) {\n          return setName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, _this), \"Surname:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"surname\",\n        onChange: function onChange(e) {\n          return setSurname(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, _this), \"Major:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"major\",\n        onChange: function onChange(e) {\n          return setMajor(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, _this), \"GPA:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"GPA\",\n        onChange: function onChange(e) {\n          return setGPA(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.button_add,\n        onClick: function onClick() {\n          return addStudent(Student_ID, name, surname, major, GPA);\n        },\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.list,\n      children: showStudents()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.list1,\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          children: /*#__PURE__*/_jsxDEV(\"ins\", {\n            children: \"(selected student)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 43\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 40\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 37\n      }, _this), /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Student_ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 15\n      }, _this), student.Student_ID, /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }, _this), student.name, /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Surname:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }, _this), student.surname, /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Major:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 15\n      }, _this), student.major, /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"GPA:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 15\n      }, _this), student.GPA]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(admin, \"D0wRAc5Pc+XwLKdMc+acislp0VQ=\");\n\nexport var __N_SSP = true;\nexport default withAuth(admin);","map":{"version":3,"sources":["C:/Users/suraw/Desktop/5935512054/frontend/pages/studentedit.js"],"names":["axios","React","useState","useEffect","styles","withAuth","Navbar","URL","admin","token","user","setUser","students","setStudents","Student_ID","setStudent_ID","name","setName","surname","setSurname","major","setMajor","GPA","setGPA","student","setStudent","getStudents","profileUser","get","config","headers","Authorization","users","data","console","log","getstudent","id","result","list","addStudent","post","deleteStudent","updateStudent","put","showStudents","length","map","item","index","listItem","edit_button","button_get","button_update","button_delete","container","form_add","e","target","value","button_add","list1"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,IAAMC,GAAG,GAAG,+BAAZ;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAAe;AAAA;;AAAA,MAAZC,KAAY,QAAZA,KAAY;;AAAA,kBACHP,QAAQ,CAAC,EAAD,CADL;AAAA,MACpBQ,IADoB;AAAA,MACdC,OADc;;AAAA,mBAEKT,QAAQ,CAAC,EAAD,CAFb;AAAA,MAEpBU,QAFoB;AAAA,MAEVC,WAFU;;AAAA,mBAGSX,QAAQ,CAAC,EAAD,CAHjB;AAAA,MAGpBY,UAHoB;AAAA,MAGRC,aAHQ;;AAAA,mBAIHb,QAAQ,CAAC,EAAD,CAJL;AAAA,MAIpBc,IAJoB;AAAA,MAIdC,OAJc;;AAAA,mBAKGf,QAAQ,CAAC,EAAD,CALX;AAAA,MAKpBgB,OALoB;AAAA,MAKXC,UALW;;AAAA,mBAMDjB,QAAQ,CAAC,EAAD,CANP;AAAA,MAMpBkB,KANoB;AAAA,MAMbC,QANa;;AAAA,mBAOLnB,QAAQ,CAAC,CAAD,CAPH;AAAA,MAOpBoB,GAPoB;AAAA,MAOfC,MAPe;;AAAA,mBAQGrB,QAAQ,CAAC,EAAD,CARX;AAAA,MAQpBsB,OARoB;AAAA,MAQXC,UARW;;AAS3BtB,EAAAA,SAAS,CAAC,YAAM;AACduB,IAAAA,WAAW;AACXC,IAAAA,WAAW;AACZ,GAHQ,EAGN,EAHM,CAAT;;AAIA,MAAMA,WAAW;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAGI3B,KAAK,CAAC4B,GAAN,WAAaC,MAAM,CAACtB,GAApB,eAAmC;AACrDuB,gBAAAA,OAAO,EAAE;AAAEC,kBAAAA,aAAa,mBAAYtB,KAAZ;AAAf;AAD4C,eAAnC,CAHJ;;AAAA;AAGVuB,cAAAA,KAHU;AAOhBrB,cAAAA,OAAO,CAACqB,KAAK,CAACC,IAAP,CAAP;AAPgB;AAAA;;AAAA;AAAA;AAAA;AAShBC,cAAAA,OAAO,CAACC,GAAR;;AATgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXR,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAaA,MAAMS,UAAU;AAAA,yEAAG,kBAAOC,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACIrC,KAAK,CAAC4B,GAAN,WAAarB,GAAb,cAAoB8B,EAApB,EADJ;;AAAA;AACXC,cAAAA,MADW;AAEjBJ,cAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BG,MAAM,CAACL,IAAnC;AACAR,cAAAA,UAAU,CAACa,MAAM,CAACL,IAAR,CAAV;;AAHiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVG,UAAU;AAAA;AAAA;AAAA,KAAhB;;AAMA,MAAMV,WAAW;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACC1B,KAAK,CAAC4B,GAAN,CAAUrB,GAAV,CADD;;AAAA;AACd+B,cAAAA,MADc;AAElBzB,cAAAA,WAAW,CAACyB,MAAM,CAACL,IAAP,CAAYM,IAAb,CAAX;;AAFkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXb,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAKA,MAAMc,UAAU;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACExC,KAAK,CAACyC,IAAN,CAAWlC,GAAX,EAAgB;AACjCO,gBAAAA,UAAU,EAAVA,UADiC;AAEjCE,gBAAAA,IAAI,EAAJA,IAFiC;AAGjCE,gBAAAA,OAAO,EAAPA,OAHiC;AAIjCE,gBAAAA,KAAK,EAALA,KAJiC;AAKjCE,gBAAAA,GAAG,EAAHA;AALiC,eAAhB,CADF;;AAAA;AACbgB,cAAAA,MADa;AAQjBJ,cAAAA,OAAO,CAACC,GAAR,CAAYG,MAAZ;AACAZ,cAAAA,WAAW;;AATM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVc,UAAU;AAAA;AAAA;AAAA,KAAhB;;AAYA,MAAME,aAAa;AAAA,yEAAG,kBAAOL,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACDrC,KAAK,UAAL,WAAgBO,GAAhB,cAAuB8B,EAAvB,EADC;;AAAA;AAChBC,cAAAA,MADgB;AAEpBZ,cAAAA,WAAW;;AAFS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAbgB,aAAa;AAAA;AAAA;AAAA,KAAnB;;AAKA,MAAMC,aAAa;AAAA,yEAAG,kBAAON,EAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACDrC,KAAK,CAAC4C,GAAN,WAAarC,GAAb,cAAoB8B,EAApB,GAA0B;AAC3CvB,gBAAAA,UAAU,EAAVA,UAD2C;AAE3CE,gBAAAA,IAAI,EAAJA,IAF2C;AAG3CE,gBAAAA,OAAO,EAAPA,OAH2C;AAI3CE,gBAAAA,KAAK,EAALA,KAJ2C;AAK3CE,gBAAAA,GAAG,EAAHA;AAL2C,eAA1B,CADC;;AAAA;AAChBgB,cAAAA,MADgB;AAQpBJ,cAAAA,OAAO,CAACC,GAAR,CAAYG,MAAZ;AACAZ,cAAAA,WAAW;;AATS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAbiB,aAAa;AAAA;AAAA;AAAA,KAAnB;;AAYA,MAAME,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,QAAIjC,QAAQ,IAAIA,QAAQ,CAACkC,MAAzB,EAAiC;AAC/B,aAAOlC,QAAQ,CAACmC,GAAT,CAAa,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACnC,4BACE;AAAK,UAAA,SAAS,EAAE7C,MAAM,CAAC8C,QAAvB;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,OACsBF,IAAI,CAAClC,UAD3B,oBACuC;AAAA;AAAA;AAAA;AAAA,mBADvC,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFF,OAEgBkC,IAAI,CAAChC,IAFrB,oBAE2B;AAAA;AAAA;AAAA;AAAA,mBAF3B,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHF,OAGmBgC,IAAI,CAAC9B,OAHxB,oBAGiC;AAAA;AAAA;AAAA;AAAA,mBAHjC,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJF,OAIiB8B,IAAI,CAAC5B,KAJtB,oBAI6B;AAAA;AAAA;AAAA;AAAA,mBAJ7B,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALF,OAKe4B,IAAI,CAAC1B,GALpB,eAME;AAAK,YAAA,SAAS,EAAElB,MAAM,CAAC+C,WAAvB;AAAA,oCACE;AACE,cAAA,SAAS,EAAE/C,MAAM,CAACgD,UADpB;AAEE,cAAA,OAAO,EAAE;AAAA,uBAAMhB,UAAU,CAACY,IAAI,CAACX,EAAN,CAAhB;AAAA,eAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAOE;AACE,cAAA,SAAS,EAAEjC,MAAM,CAACiD,aADpB;AAEE,cAAA,OAAO,EAAE;AAAA,uBAAMV,aAAa,CAACK,IAAI,CAACX,EAAN,CAAnB;AAAA,eAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPF,eAaE;AACE,cAAA,SAAS,EAAEjC,MAAM,CAACkD,aADpB;AAEE,cAAA,OAAO,EAAE;AAAA,uBAAMZ,aAAa,CAACM,IAAI,CAACX,EAAN,CAAnB;AAAA,eAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAbF;AAAA;AAAA;AAAA;AAAA;AAAA,mBANF;AAAA,WAAsCY,KAAtC;AAAA;AAAA;AAAA;AAAA,iBADF;AA6BD,OA9BM,CAAP;AA+BD,KAhCD,MAgCO;AACL,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAP;AACD;AACF,GApCD;;AAqCA,sBACE;AAAK,IAAA,SAAS,EAAE7C,MAAM,CAACmD,SAAvB;AAAA,4BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAA,6BAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,aAFF,eAGE;AAAK,MAAA,SAAS,EAAEnD,MAAM,CAACoD,QAAvB;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,8BAGE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,YAFP;AAGE,QAAA,QAAQ,EAAE,kBAACC,CAAD;AAAA,iBAAO1C,aAAa,CAAC0C,CAAC,CAACC,MAAF,CAASC,KAAV,CAApB;AAAA;AAHZ;AAAA;AAAA;AAAA;AAAA,eAHF,wBASE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,QAAQ,EAAE,kBAACF,CAAD;AAAA,iBAAOxC,OAAO,CAACwC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd;AAAA;AAHZ;AAAA;AAAA;AAAA;AAAA,eATF,2BAeE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,SAFP;AAGE,QAAA,QAAQ,EAAE,kBAACF,CAAD;AAAA,iBAAOtC,UAAU,CAACsC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB;AAAA;AAHZ;AAAA;AAAA;AAAA;AAAA,eAfF,yBAqBE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,OAFP;AAGE,QAAA,QAAQ,EAAE,kBAACF,CAAD;AAAA,iBAAOpC,QAAQ,CAACoC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf;AAAA;AAHZ;AAAA;AAAA;AAAA;AAAA,eArBF,uBA2BE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,IAAI,EAAC,KAFP;AAGE,QAAA,QAAQ,EAAE,kBAACF,CAAD;AAAA,iBAAOlC,MAAM,CAACkC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;AAAA;AAHZ;AAAA;AAAA;AAAA;AAAA,eA3BF,eAgCE;AACE,QAAA,SAAS,EAAEvD,MAAM,CAACwD,UADpB;AAEE,QAAA,OAAO,EAAE;AAAA,iBAAMpB,UAAU,CAAC1B,UAAD,EAAaE,IAAb,EAAmBE,OAAnB,EAA4BE,KAA5B,EAAmCE,GAAnC,CAAhB;AAAA,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAhCF;AAAA;AAAA;AAAA;AAAA;AAAA,aAHF,eA2CE;AAAK,MAAA,SAAS,EAAElB,MAAM,CAACmC,IAAvB;AAAA,gBAA8BM,YAAY;AAA1C;AAAA;AAAA;AAAA;AAAA,aA3CF,eA4CE;AAAK,MAAA,SAAS,EAAEzC,MAAM,CAACyD,KAAvB;AAAA,8BAA8B;AAAA,+BAAG;AAAA,iCAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA;AAAH;AAAA;AAAA;AAAA;AAAA,eAA9B,eACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADR,EAC2BrC,OAAO,CAACV,UADnC,eAEQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFR,EAEqBU,OAAO,CAACR,IAF7B,eAGQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHR,EAGwBQ,OAAO,CAACN,OAHhC,eAIQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJR,EAIsBM,OAAO,CAACJ,KAJ9B,eAKQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALR,EAKoBI,OAAO,CAACF,GAL5B;AAAA;AAAA;AAAA;AAAA;AAAA,aA5CF;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAsDD,CA7JD;;GAAMd,K;;;AA8JN,eAAeH,QAAQ,CAACG,KAAD,CAAvB","sourcesContent":["import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport styles from \"../styles/student.module.css\";\nimport withAuth from \"../components/withAuth\";\nimport Navbar from \"../components/navbar\";\nconst URL = \"http://localhost/api/students\";\nconst admin = ({ token }) => {\n  const [user, setUser] = useState({});\n  const [students, setStudents] = useState({});\n  const [Student_ID, setStudent_ID] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [surname, setSurname] = useState(\"\");\n  const [major, setMajor] = useState(\"\");\n  const [GPA, setGPA] = useState(0);\n  const [student, setStudent] = useState({});\n  useEffect(() => {\n    getStudents();\n    profileUser();\n  }, []);\n  const profileUser = async () => {\n    try {\n      \n      const users = await axios.get(`${config.URL}/profile`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n     \n      setUser(users.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const getstudent = async (id) => {\n    const result = await axios.get(`${URL}/${id}`)\n    console.log('student id: ', result.data)\n    setStudent(result.data)\n}\n \n  const getStudents = async () => {\n    let result = await axios.get(URL);\n    setStudents(result.data.list);\n  };\n\n  const addStudent = async () => {\n    let result = await axios.post(URL, {\n      Student_ID,\n      name,\n      surname,\n      major,\n      GPA,\n    });\n    console.log(result);\n    getStudents();\n  };\n\n  const deleteStudent = async (id) => {\n    let result = await axios.delete(`${URL}/${id}`);\n    getStudents();\n  };\n\n  const updateStudent = async (id) => {\n    let result = await axios.put(`${URL}/${id}`, {\n      Student_ID,\n      name,\n      surname,\n      major,\n      GPA,\n    });\n    console.log(result);\n    getStudents();\n  };\n\n  const showStudents = () => {\n    if (students && students.length) {\n      return students.map((item, index) => {\n        return (\n          <div className={styles.listItem} key={index}>\n            <b>Student_ID:</b> {item.Student_ID} <br />\n            <b>Name:</b> {item.name} <br />\n            <b>Surname:</b> {item.surname} <br />\n            <b>Major:</b> {item.major} <br />\n            <b>GPA:</b> {item.GPA}\n            <div className={styles.edit_button}>\n              <button\n                className={styles.button_get}\n                onClick={() => getstudent(item.id)}\n              >\n                Get\n              </button>\n              <button\n                className={styles.button_update}\n                onClick={() => updateStudent(item.id)}\n              >\n                Update\n              </button>\n              <button\n                className={styles.button_delete}\n                onClick={() => deleteStudent(item.id)}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        );\n      });\n    } else {\n      return <p>Loading...</p>;\n    }\n  };\n  return (\n    <div className={styles.container}>\n      <Navbar />\n      <h1><ins>Student Data Edit </ins></h1>\n      <div className={styles.form_add}>\n        <h2>Add Students</h2>\n        Student_ID:\n        <input\n          type=\"text\"\n          name=\"Student_ID\"\n          onChange={(e) => setStudent_ID(e.target.value)}\n        ></input>\n        Name:\n        <input\n          type=\"text\"\n          name=\"name\"\n          onChange={(e) => setName(e.target.value)}\n        ></input>\n        Surname:\n        <input\n          type=\"text\"\n          name=\"surname\"\n          onChange={(e) => setSurname(e.target.value)}\n        ></input>\n        Major:\n        <input\n          type=\"text\"\n          name=\"major\"\n          onChange={(e) => setMajor(e.target.value)}\n        ></input>\n        GPA:\n        <input\n          type=\"number\"\n          name=\"GPA\"\n          onChange={(e) => setGPA(e.target.value)}\n        ></input>\n        <button\n          className={styles.button_add}\n          onClick={() => addStudent(Student_ID, name, surname, major, GPA)}\n        >\n          Add\n        </button>\n      </div>\n\n      <div className={styles.list}>{showStudents()}</div>\n      <div className={styles.list1}><b><i><ins>(selected student)</ins></i></b> \n              <b>Student_ID:</b>{student.Student_ID} \n              <b>Name:</b>{student.name} \n              <b>Surname:</b>{student.surname}  \n              <b>Major:</b>{student.major}  \n              <b>GPA:</b>{student.GPA}\n      </div>\n    </div>\n  );\n};\nexport default withAuth(admin);\n\nexport function getServerSideProps({ req, res }) {\n  return { props: { token: req.cookies.token || \"\" } };\n}\n"]},"metadata":{},"sourceType":"module"}