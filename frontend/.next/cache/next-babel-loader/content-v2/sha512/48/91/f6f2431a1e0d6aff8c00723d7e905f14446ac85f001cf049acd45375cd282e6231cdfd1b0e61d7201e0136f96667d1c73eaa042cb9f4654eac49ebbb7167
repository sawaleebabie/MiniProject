{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\suraw\\\\Desktop\\\\5935512054\\\\frontend\\\\pages\\\\studentedit.js\";\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport styles from \"../styles/student.module.css\";\nimport withAuth from \"../components/withAuth\";\nimport Navbar from \"../components/navbar\";\nconst URL = \"http://localhost/api/students\";\n\nconst admin = ({\n  token\n}) => {\n  const {\n    0: user,\n    1: setUser\n  } = useState({});\n  const {\n    0: students,\n    1: setStudents\n  } = useState({});\n  const {\n    0: Student_ID,\n    1: setStudentID\n  } = useState(\"\");\n  const {\n    0: name,\n    1: setName\n  } = useState(\"\");\n  const {\n    0: surname,\n    1: setSurname\n  } = useState(\"\");\n  const {\n    0: major,\n    1: setMajor\n  } = useState(\"\");\n  const {\n    0: GPA,\n    1: setGPA\n  } = useState(0);\n  const {\n    0: student,\n    1: setStudent\n  } = useState({});\n  useEffect(() => {\n    getStudents();\n    profileUser();\n  }, []);\n\n  const profileUser = async () => {\n    try {\n      const users = await axios.get(`${config.URL}/profile`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUser(users.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const getstudent = async id => {\n    const result = await axios.get(`${URL}/${id}`);\n    console.log('student id: ', result.data);\n    setStudent(result.data);\n  };\n\n  const getStudents = async () => {\n    let result = await axios.get(URL);\n    setStudents(result.data.list);\n  };\n\n  const addStudent = async () => {\n    let result = await axios.post(URL, {\n      Student_ID,\n      name,\n      surname,\n      major,\n      GPA\n    });\n    console.log(result);\n    getStudents();\n  };\n\n  const deleteStudent = async id => {\n    let result = await axios.delete(`${URL}/${id}`);\n    getStudents();\n  };\n\n  const updateStudent = async id => {\n    let result = await axios.put(`${URL}/${id}`, {\n      Student_ID,\n      name,\n      surname,\n      major,\n      GPA\n    });\n    console.log(result);\n    getStudents();\n  };\n\n  const showStudents = () => {\n    if (students && students.length) {\n      return students.map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.listItem,\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Student_ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), \" \", item.Student_ID, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 50\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), \" \", item.name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 38\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Surname:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), \" \", item.surname, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Major:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), \" \", item.major, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 40\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"GPA:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), \" \", item.GPA, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.edit_button,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.button_get,\n              onClick: () => getstudent(item.id),\n              children: \"Get\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.button_update,\n              onClick: () => updateStudent(item.id),\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.button_delete,\n              onClick: () => deleteStudent(item.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this);\n      });\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 14\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: /*#__PURE__*/_jsxDEV(\"ins\", {\n        children: \"Student Data Edit \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.form_add,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Add Students\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), \"Student_ID:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"Student_ID\",\n        onChange: e => setStudentID(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), \"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), \"Surname:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"surname\",\n        onChange: e => setSurname(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), \"Major:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"major\",\n        onChange: e => setMajor(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), \"GPA:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"GPA\",\n        onChange: e => setGPA(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.button_add,\n        onClick: () => addStudent(Student_ID, name, surname, major, GPA),\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.list,\n      children: showStudents()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.list1,\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          children: /*#__PURE__*/_jsxDEV(\"ins\", {\n            children: \"(selected student)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 37\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \" Student_ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 81\n      }, this), student.Student_ID, /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"  Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 120\n      }, this), student.name, /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"  Surname:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 148\n      }, this), student.surname, \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"  Major:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 183\n      }, this), student.major, \"  \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"GPA:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 215\n      }, this), student.GPA]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n};\n\nexport default withAuth(admin);\nexport function getServerSideProps({\n  req,\n  res\n}) {\n  return {\n    props: {\n      token: req.cookies.token || \"\"\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/suraw/Desktop/5935512054/frontend/pages/studentedit.js"],"names":["axios","React","useState","useEffect","styles","withAuth","Navbar","URL","admin","token","user","setUser","students","setStudents","Student_ID","setStudentID","name","setName","surname","setSurname","major","setMajor","GPA","setGPA","student","setStudent","getStudents","profileUser","users","get","config","headers","Authorization","data","e","console","log","getstudent","id","result","list","addStudent","post","deleteStudent","delete","updateStudent","put","showStudents","length","map","item","index","listItem","edit_button","button_get","button_update","button_delete","container","form_add","target","value","button_add","list1","getServerSideProps","req","res","props","cookies"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport styles from \"../styles/student.module.css\";\nimport withAuth from \"../components/withAuth\";\nimport Navbar from \"../components/navbar\";\nconst URL = \"http://localhost/api/students\";\nconst admin = ({ token }) => {\n  const [user, setUser] = useState({});\n  const [students, setStudents] = useState({});\n  const [Student_ID, setStudentID] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [surname, setSurname] = useState(\"\");\n  const [major, setMajor] = useState(\"\");\n  const [GPA, setGPA] = useState(0);\n  const [student, setStudent] = useState({});\n  useEffect(() => {\n    getStudents();\n    profileUser();\n  }, []);\n  const profileUser = async () => {\n    try {\n      \n      const users = await axios.get(`${config.URL}/profile`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n     \n      setUser(users.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const getstudent = async (id) => {\n    const result = await axios.get(`${URL}/${id}`)\n    console.log('student id: ', result.data)\n    setStudent(result.data)\n}\n \n  const getStudents = async () => {\n    let result = await axios.get(URL);\n    setStudents(result.data.list);\n  };\n\n  const addStudent = async () => {\n    let result = await axios.post(URL, {\n      Student_ID,\n      name,\n      surname,\n      major,\n      GPA,\n    });\n    console.log(result);\n    getStudents();\n  };\n\n  const deleteStudent = async (id) => {\n    let result = await axios.delete(`${URL}/${id}`);\n    getStudents();\n  };\n\n  const updateStudent = async (id) => {\n    let result = await axios.put(`${URL}/${id}`, {\n      Student_ID,\n      name,\n      surname,\n      major,\n      GPA,\n    });\n    console.log(result);\n    getStudents();\n  };\n\n  const showStudents = () => {\n    if (students && students.length) {\n      return students.map((item, index) => {\n        return (\n          <div className={styles.listItem} key={index}>\n            <b>Student_ID:</b> {item.Student_ID} <br />\n            <b>Name:</b> {item.name} <br />\n            <b>Surname:</b> {item.surname} <br />\n            <b>Major:</b> {item.major} <br />\n            <b>GPA:</b> {item.GPA}\n            <div className={styles.edit_button}>\n              <button\n                className={styles.button_get}\n                onClick={() => getstudent(item.id)}\n              >\n                Get\n              </button>\n              <button\n                className={styles.button_update}\n                onClick={() => updateStudent(item.id)}\n              >\n                Update\n              </button>\n              <button\n                className={styles.button_delete}\n                onClick={() => deleteStudent(item.id)}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        );\n      });\n    } else {\n      return <p>Loading...</p>;\n    }\n  };\n  return (\n    <div className={styles.container}>\n      <Navbar />\n      <h1><ins>Student Data Edit </ins></h1>\n      <div className={styles.form_add}>\n        <h2>Add Students</h2>\n        Student_ID:\n        <input\n          type=\"text\"\n          name=\"Student_ID\"\n          onChange={(e) => setStudentID(e.target.value)}\n        ></input>\n        Name:\n        <input\n          type=\"text\"\n          name=\"name\"\n          onChange={(e) => setName(e.target.value)}\n        ></input>\n        Surname:\n        <input\n          type=\"text\"\n          name=\"surname\"\n          onChange={(e) => setSurname(e.target.value)}\n        ></input>\n        Major:\n        <input\n          type=\"text\"\n          name=\"major\"\n          onChange={(e) => setMajor(e.target.value)}\n        ></input>\n        GPA:\n        <input\n          type=\"number\"\n          name=\"GPA\"\n          onChange={(e) => setGPA(e.target.value)}\n        ></input>\n        <button\n          className={styles.button_add}\n          onClick={() => addStudent(Student_ID, name, surname, major, GPA)}\n        >\n          Add\n        </button>\n      </div>\n\n      <div className={styles.list}>{showStudents()}</div>\n      <div className={styles.list1}><b><i><ins>(selected student)</ins></i></b> <b> Student_ID:</b>{student.Student_ID}<b>  Name:</b>{student.name}<b>  Surname:</b>{student.surname} <b>  Major:</b>{student.major}  <b>GPA:</b>{student.GPA}</div>\n    </div>\n  );\n};\nexport default withAuth(admin);\n\nexport function getServerSideProps({ req, res }) {\n  return { props: { token: req.cookies.token || \"\" } };\n}\n"]},"metadata":{},"sourceType":"module"}