{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\suraw\\\\Desktop\\\\5935512054\\\\frontend\\\\pages\\\\index.js\";\nimport Head from 'next/head';\nimport Layout from '../components/layout';\nimport useSWR, { mutate } from \"swr\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport styles from \"../styles/Index.module.css\";\nimport Navbar from \"../components/navbar\";\nconst URL = \"http://localhost/api/students\";\nconst URL_SEL = \"http://localhost/api/purchase\";\n\nconst fetcher = key => fetch(key).then(res => res.json());\n\nconst index = () => {\n  const {\n    data,\n    error\n  } = useSWR(URL, fetcher, {\n    revalidateOnFocus: false\n  });\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"failed to load\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 21\n  }, this);\n  if (!data) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 21\n  }, this);\n  console.log(\"data\", data);\n\n  const selStu = async id => {\n    let result = await axios.post(`${URL_SEL}/${id}`);\n    mutate(URL, data);\n  };\n\n  const showStudents = () => {\n    if (data.list && data.list.length) {\n      return data.list.map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.listItem,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Student_ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 27,\n              columnNumber: 18\n            }, this), \" \", item.Student_ID]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 28,\n              columnNumber: 18\n            }, this), \" \", item.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Surname:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 18\n            }, this), \" \", item.surname]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Major:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 18\n            }, this), \" \", item.major, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"GPA:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 18\n            }, this), \" \", item.GPA]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.btn,\n              onClick: () => selStu(item.id),\n              children: \"Delete Data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 13\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this);\n      });\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 14\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Home Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 39\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.title,\n        children: /*#__PURE__*/_jsxDEV(\"marquee\", {\n          bgcolor: \"#A9E0B8\",\n          direction: \"lefe\",\n          scrollamount: \"5\",\n          width: \"100%\",\n          children: /*#__PURE__*/_jsxDEV(\"ins\", {\n            children: \"Welcome to Student Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 81\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.list,\n        children: showStudents()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n\nexport default index;","map":{"version":3,"sources":["C:/Users/suraw/Desktop/5935512054/frontend/pages/index.js"],"names":["Head","Layout","useSWR","mutate","axios","React","styles","Navbar","URL","URL_SEL","fetcher","key","fetch","then","res","json","index","data","error","revalidateOnFocus","console","log","selStu","id","result","post","showStudents","list","length","map","item","listItem","Student_ID","name","surname","major","GPA","btn","container","title"],"mappings":"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","sourcesContent":["import Head from 'next/head' \nimport Layout from '../components/layout' \nimport useSWR, { mutate } from \"swr\";\nimport axios from \"axios\";\nimport React, { } from \"react\";\nimport styles from \"../styles/Index.module.css\";\nimport Navbar from \"../components/navbar\";\nconst URL = \"http://localhost/api/students\";\nconst URL_SEL = \"http://localhost/api/purchase\";\nconst fetcher = (key) => fetch(key).then((res) => res.json());\nconst index = () => {\n  const { data, error } = useSWR(URL, fetcher, { revalidateOnFocus: false });\n  if (error) return <div>failed to load</div>;\n  if (!data) return <div>Loading...</div>;\n  console.log(\"data\", data);\n  \n  const selStu = async (id) => {\n    let result = await axios.post(`${URL_SEL}/${id}`)\n    mutate(URL, data);\n  }\n\n  const showStudents = () => {\n    if (data.list && data.list.length) {\n      return data.list.map((item, index) => {\n        return (\n          <div className={styles.listItem} key={index}>\n            <div><b>Student_ID:</b> {item.Student_ID}</div>\n            <div><b>Name:</b> {item.name}</div>\n            <div><b>Surname:</b> {item.surname}</div>\n            <div><b>Major:</b> {item.major} </div>\n            <div><b>GPA:</b> {item.GPA}</div>\n            \n            <div>\n            <button\n              className={styles.btn}\n              onClick={() => selStu(item.id)}\n            >\n              Delete Data\n            </button></div>\n          </div>\n        );\n      });\n    } else {\n      return <p>Loading...</p>;\n    }\n  };\n  return (\n    <Layout>\n       <Head>\n        <title>Home Page</title>\n    </Head>\n    <div className={styles.container}><Navbar />\n      <div className={styles.title}>\n      <marquee bgcolor=\"#A9E0B8\" direction=\"lefe\" scrollamount=\"5\" width=\"100%\"><ins>Welcome to Student Data</ins></marquee></div>\n      <div className={styles.list}>\n        {showStudents()}\n      </div>\n      \n    </div>\n    </Layout>\n  );\n};\nexport default index;\n"]},"metadata":{},"sourceType":"module"}